/* autogenerated by gensyscalls.py */
#include <sys/stos-syscalls.h>

    .text
    .type mmap, @function
    .globl mmap
    .align 4

mmap:

    /* get ready for additonal arg */
    mov.l   @r15, r0
    mov.l   @(4, r15), r1

    /* invoke trap */
    mov.l   0f, r3  /* trap num */
    trapa   #(6 + 0x10)

    /* check return value */
    cmp/pz  r0
    bt      __NR_mmap_end

    /* keep error number */
    sts.l   pr, @-r15
    mov.l   1f, r1
    jsr     @r1
    mov     r0, r4
    lds.l   @r15+, pr

__NR_mmap_end:
    rts
    nop

    .align  2
0:  .long   __NR_mmap
1:  .long   __set_syscall_errno
